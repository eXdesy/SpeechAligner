# <h1 align="center">Speech Aligner System</h1><p align="center">    Comprehensive System for Automatic Speech Recognition and Forced Alignment (ASR-FA). A versatile tool designed for accurate speech-to-text transcription, alignment, and correction using advanced algorithms and models. It utilizes advanced    speech-to-text transcription methods and text normalization techniques to compare transcribed and expected text,    identifying discrepancies and storing results for further analysis.</p><p align="center"><a href="https://nltk.org" target="_blank"><img src="https://img.shields.io/badge/NLTK-3.8-brightgreen" alt="NLTK Version" /></a><a href="https://pandas.pydata.org/" target="_blank"><img src="https://img.shields.io/badge/Pandas-1.5.0-blue" alt="Pandas Version" /></a><a href="https://github.com/OpenAI/openai" target="_blank"><img src="https://img.shields.io/badge/OpenAI-API-blue" alt="OpenAI API" /></a><a href="https://github.com/daviddrysdale/python-phonenumbers" target="_blank"><img src="https://img.shields.io/badge/Metaphone-Library-yellow" alt="Metaphone Library" /></a><a href="https://pymorphy2.readthedocs.io/en/stable/" target="_blank"><img src="https://img.shields.io/badge/PyMorphy2-2.4-green" alt="PyMorphy2 Version" /></a><a href="https://pytorch.org" target="_blank"><img src="https://img.shields.io/badge/PyTorch-1.12.0-orange" alt="PyTorch Version" /></a><a href="https://python-sounddevice.readthedocs.io/" target="_blank"><img src="https://img.shields.io/badge/SoundDevice-0.4.4-yellowgreen" alt="SoundDevice Version" /></a><a href="https://github.com/openai/whisper" target="_blank"><img src="https://img.shields.io/badge/Whisper-Model-blue" alt="Whisper Model" /></a><a href="https://www.python.org/downloads/release/python-380/" target="_blank"><img src="https://img.shields.io/badge/Python-3.8-yellow" alt="Python Version" /></a><a href="https://www.jetbrains.com/pycharm/" target="_blank"><img src="https://img.shields.io/badge/IDE-PyCharm-brightgreen" alt="PyCharm IDE" /></a></p>![Speech Aligner System](/banner.jpg)---## ‚ú® Key Features- **Levenshtein Distance**: Enhances accuracy by correcting errors based on edit distance.- **Phonetic Corrections**: Integrates Double Metaphone for phonetic error handling.- **Context-Aware Corrections**: Uses Markov Models and OpenAI GPT for contextual text adjustments.- **Multi-Language Support**: Easily adaptable for English, Spanish, and Russian.- **Speech Alignment**: Transcribes and aligns spoken audio with expected textual content.- **Error Logging and Correction**: Logs mismatches and applies automated corrections.---## üöÄ Quick Start1. **Clone the Repository:**    ```bash    git clone https://github.com/eXdesy/SpeechAligner.git    ```2. **Clone MeloTTS:**    Download the **MeloTTS** repository from [MeloTTS GitHub](https://github.com/myshell-ai/MeloTTS) and place it in the root directory of this project:    ```bash    git clone https://github.com/myshell-ai/MeloTTS.git    ```    3. **Clone Montreal Forced Aligner (MFA):**    Download the Montreal Forced Aligner and the necessary acoustic, dictionary, and phoneme archives for English, Spanish, and Russian from [MFA GitHub](https://github.com/MontrealCorpusTools/Montreal-Forced-Aligner). Place them in the root directory of this project:    ```bash    git clone https://github.com/MontrealCorpusTools/Montreal-Forced-Aligner.git    ```4. **Activate Virtual Environment:**    ```bash    # Windows    .venv\Scripts\activate      # macOS/Linux    source .venv/bin/activate    ```5. **Set up the required dependencies:**    ```bash    pip install nltk pandas metaphone openai pymorphy2 torch sounddevice whisper    ```    or also you can run:    ```bash    pip install -r requirements.txt    ```6. **Run the Application:**    ```bash    python main.py    ```  ---## ‚öôÔ∏è System OverviewThe Speech Aligner System integrates the following components:- **AudioHandler**  - Handles recording, deleting, and selecting audio files.  - Formats: `.wav`, `.mp3`.- **TextHandler**  - Normalizes text by removing punctuation and standardizing characters.  - Identifies mismatches between transcribed and expected text.- **ErrorsHandler**  - Analyzes errors to create substitution rules.  - Generates rules based on character mismatch frequency.  - **FileHandler**  - Manages error logs and correction models.  - Formats: `.csv`, `.pkl`.  - **CorrectionModel**  - Applies corrections using substitution rules, phonetic similarity, and GPT models.- **WhisperModel**  - Transcribes audio using OpenAI's Whisper.  - Device support: CPU and GPU.---## üîß Modify Parameters:Open `main.py` to set default parameters:- **Model Name:** `whisper`- **Model Size:** `turbo`- **Language:** `en`, `es`, `ru`## üí° Notes- Ensure GPU is enabled for optimal performance when using Whisper.<h2 align="center">All right reserved by eXdesy</h2>